<html>
   
   <head>
      <meta charset="utf8">
      <title>AngularJS Directives</title>
      <script src = "http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
   </head>
   
   <body ng-app="initExample">
      <h1>Exo</h1>

      <div ng-controller="ExampleController">
      <p>Toutes mes directives du meme type partagent le meme $scope. Il faudra résoudre ça 
          dans un autre exercice </p>
        <br><br>

        <!-- mes directives customs -->
        <my-first-directive></my-first-directive>
        <br>
        <my-first-directive></my-first-directive>

      </div>

      <script>
        var app = angular.module('initExample', []);

        //---My Controller
        app.controller('ExampleController', ['$scope', function($scope) {
            
          }]);

        //---My Directive
        app.directive('myFirstDirective', function(){

          //--declare une linkFunction
          function linkFunction($scope, elem, attrs){
            $scope.name = "Hello World";
            $scope.changeName = function(newName){
              $scope.name = newName;
            }
          };

          return{
            template: '<span ng-click="changeName(\'nouveau text\')">Current text : {{name}}</span>',
            scope:false, // les directives partagent  le scope
            restrict: 'E',
            link: linkFunction  //link function
          };
        });
      </script>

   </body>
</html>