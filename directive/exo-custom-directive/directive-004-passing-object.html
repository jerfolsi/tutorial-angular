<!--
    Pour passer un objet à une directive
    return{
      ...
      scope: { element: '='},
      ...
    };

    'element' est de l'attribut à insérer dans la directive

    exemple <my-directive element="myObjet"></my-directive>

    ensuite on peut exploiter l'objet 'element' dans le template
-->

<html>
   
   <head>
      <meta charset="utf8">
      <title>AngularJS Directives</title>
      <script src = "http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
   </head>
   
   <body ng-app="initExample">
      <h1>Exo</h1>



      <div ng-controller="ExampleController">
        <div ng-repeat="user in users">
           <user-display element="user"></user-display>
        </div>
      </div>


      <script>
        var app = angular.module('initExample', []);

        //---My Controller
        app.controller('ExampleController', ['$scope', function($scope) {
              $scope.aControllerProperty = "Une propriété du controller";

              $scope.users = [{name:"jerome"},{name:"paul"}];

          }]);

        //---My Directive
        app.directive('userDisplay', function(){
          return{
            template: 'hello : {{element.name}}',
            scope: { element: '='}, 
            restrict: 'E'
          };
        });
      </script>


   </body>
</html>